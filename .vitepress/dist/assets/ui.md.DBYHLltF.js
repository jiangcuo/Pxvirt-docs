import{_ as r,c as l,o as i,j as t,ah as e,a}from"./chunks/framework.HzbgFGQH.js";const o="/assets/arch1.BoGdTnxU.png",s="/assets/arch2.Cao1NsWK.png",n="/assets/ui3.BWCHAjVq.png",p="/assets/ui4.evHFlHpL.png",c="/assets/ui5.DfUlzdHb.png",h="/assets/ui6.CEWt9zJo.png",_="/assets/ui7.HOeyHzER.png",G=JSON.parse('{"title":"PXVIRT UI介绍","description":"","frontmatter":{},"headers":[],"relativePath":"ui.md","filePath":"ui.md"}'),m={name:"ui.md"},b=o+"#pic_center",u=s+"#pic_center",P=n+"#pic_center",v=p+"#pic_center",x=c+"#pic_center",g=h+"#pic_center",U=_+"#pic_center";function f(C,d,V,y,T,M){return i(),l("div",null,d[0]||(d[0]=[t("h1",{id:"pxvirt-ui介绍",tabindex:"-1"},[a("PXVIRT UI介绍 "),t("a",{class:"header-anchor",href:"#pxvirt-ui介绍","aria-label":"Permalink to “PXVIRT UI介绍”"},"​")],-1),t("p",null,"PXVIRT主要增加了以下功能",-1),t("h1",{id:"虚拟机的架构选择",tabindex:"-1"},[a("虚拟机的架构选择 "),t("a",{class:"header-anchor",href:"#虚拟机的架构选择","aria-label":"Permalink to “虚拟机的架构选择”"},"​")],-1),t("p",null,[t("img",{src:b,alt:"位于创建虚拟机",loading:"lazy"})],-1),t("p",null,[t("img",{src:u,alt:"位于虚拟选项卡",loading:"lazy"})],-1),t("p",null,"本功能可以调整虚拟机的架构，比如从x86_64架构转换到aarch64架构。",-1),t("blockquote",null,[t("p",null,"注意!!!"),t("p",null,"目前KVM加速只能当前架构，如果从x86_64运行aarch64虚拟机，会使用tcg技术，虚拟机将会很卡。"),t("p",null,"调整架构之后，虚拟机的配置也要变化，比如CPU型号、主板型号等。不然无法开机。")],-1),t("h1",{id:"虚拟机的cpu选择",tabindex:"-1"},[a("虚拟机的CPU选择 "),t("a",{class:"header-anchor",href:"#虚拟机的cpu选择","aria-label":"Permalink to “虚拟机的CPU选择”"},"​")],-1),t("p",null,[a("在CPU这里，我们加入了基本上支持的CPU类型。 "),t("img",{src:P,alt:"",loading:"lazy"})],-1),e('<p>下面是CPU的型号说明</p><table tabindex="0"><thead><tr><th>vendor</th><th>所属架构</th></tr></thead><tbody><tr><td>RISCV</td><td>riscv64架构所需要的CPU类型</td></tr><tr><td>POWER</td><td>power架构所需要的CPU类型</td></tr><tr><td>LOONGARCH</td><td>LoongARCH架构所需要的CPU类型</td></tr><tr><td>ARM</td><td>aarch64架构所需要的CPU类型</td></tr><tr><td>intel &amp; AMD</td><td>x86_64所需要的cpu类型</td></tr></tbody></table><p>这里还有一些特殊的类型QEMU，我们对QEMU类型进行一次解释</p><p>QEMU只有Max 和host是通用类型。也就是max基本上所有的架构都可以选择这个max cpu型号。如果你的主机架构和虚拟机架构一致，选择host或者max，理论上都会进行KVM加速。</p><p>现在我们来说一下哪些CPU支持KVM加速。您需要根据您的架构，来正确配置cpu，才能获得最佳的性能。</p><table tabindex="0"><thead><tr><th>主机架构</th><th>虚拟机架构</th><th>虚拟机CPU类型</th><th>备注</th></tr></thead><tbody><tr><td>x86_64</td><td>x86_64</td><td>所有的Qemu、intel、amd、host、max</td><td>如果你是amd主机，选intel不会开机，反之亦然</td></tr><tr><td>aarch64</td><td>aarch64</td><td>host、max、Kunpeng-920</td><td>Kunpeng920只能鲲鹏主机使用，否则会报错</td></tr><tr><td>loongarch64</td><td>loongarch64</td><td>la464、max</td><td>龙芯当前实现了la464的模拟，La664是不支持的，所以不支持host启动</td></tr></tbody></table><h1 id="虚拟机的bios选择" tabindex="-1">虚拟机的BIOS选择 <a class="header-anchor" href="#虚拟机的bios选择" aria-label="Permalink to “虚拟机的BIOS选择”">​</a></h1><p>虚拟机须使用正确的bios，才能正常引导启动。当然这不是绝对，如果你好奇这功能，可以研究一下，在CLI处我们会提到。</p><table tabindex="0"><thead><tr><th>虚拟机架构</th><th>虚拟机bios</th></tr></thead><tbody><tr><td>x86_64</td><td>all</td></tr><tr><td>arm64</td><td>ovmf</td></tr><tr><td>loongarch64</td><td>ovmf</td></tr><tr><td>ppc64</td><td>seabios</td></tr><tr><td>s390x</td><td>seabios</td></tr></tbody></table><h1 id="虚拟机的机型选择" tabindex="-1">虚拟机的机型选择 <a class="header-anchor" href="#虚拟机的机型选择" aria-label="Permalink to “虚拟机的机型选择”">​</a></h1><p>虚拟机必须使用正确的机型，才能正常引导启动。</p><table tabindex="0"><thead><tr><th>虚拟机架构</th><th>虚拟机机型</th></tr></thead><tbody><tr><td>x86_64</td><td>q35,i440fx</td></tr><tr><td>arm64</td><td>virt</td></tr><tr><td>loongarch64</td><td>virt</td></tr><tr><td>riscv64</td><td>virt</td></tr><tr><td>ppc64</td><td>pseries</td></tr><tr><td>s390x</td><td>s390-ccw-virtio</td></tr></tbody></table><h1 id="nvme-模拟" tabindex="-1">NVME 模拟 <a class="header-anchor" href="#nvme-模拟" aria-label="Permalink to “NVME 模拟”">​</a></h1><p>在虚拟的磁盘处，我们增加了NVME的模拟，用户可以直接添加nvme磁盘。</p>',14),t("p",null,[t("img",{src:v,alt:"",loading:"lazy"})],-1),e('<blockquote><p>提示</p><p>好奇NVME的性能吗？我们经过测试，在高并发下nvme比scsi好点，但是日常使用没有性能区别，但是对于Windows来讲，nvme设备就不需要安装scsi驱动了。</p></blockquote><h1 id="gpu选择" tabindex="-1">GPU选择 <a class="header-anchor" href="#gpu选择" aria-label="Permalink to “GPU选择”">​</a></h1><p>我们添加了2种额外的GPU设备。</p><ol><li>ramfb</li></ol><p>这种是机型的ramfb，可以直接输出虚拟机的fb。在arm64下装windows 非常好用。但其他的情况我们不推荐，除非你有特殊的用途</p><ol start="2"><li>Mdev Dispaly(mdev)</li></ol><p>这是专门为Mdev 类型的vGPU设计的显示模型，这个型号在Qemu中不存在，支持我们为了让用户更好的使用vGPU而创建的一个管理模型。</p><p>当用户使用vGPU时，GPU选择mdev设备，那么PXVIRT将不会添加任何qemu的gpu设备，同时为vGPU开启vfio-pci的Display特性。这样带来的好处就是，用户可以直接通过VNC而去查看vGPU桌面了，而不是禁用qemu显卡，远程访问。</p><p>当然该功能需要添加mdev设备。如果没有添加，那么vnc页面将会一直黑屏。</p><p>启动之后，搭配vGPU效果如下</p>',10),t("p",null,[t("img",{src:x,alt:"alt text",loading:"lazy"})],-1),t("p",null,"设备管理器里面，只会有vGPU显卡，实现更好的软件兼容性。",-1),t("blockquote",null,[t("p",null,"注意！"),t("p",null,"先别急着用，Mdev和下面的功能搭配更好")],-1),t("h1",{id:"mdev的ramfb显示",tabindex:"-1"},[a("Mdev的ramfb显示 "),t("a",{class:"header-anchor",href:"#mdev的ramfb显示","aria-label":"Permalink to “Mdev的ramfb显示”"},"​")],-1),t("p",null,[a("当你添加vGPU的时候，会显示一个"),t("code",null,"Ramfb Display"),a("的选项。")],-1),t("p",null,[t("img",{src:g,alt:"alt text",loading:"lazy"})],-1),t("p",null,[a("这个选项将开启vfio-pci的"),t("code",null,"ramfb"),a("功能，使用这个功能，可以在搭配了vGPU设备的虚拟机中，启用bios画面显示。")],-1),t("p",null,[t("img",{src:U,alt:"alt text",loading:"lazy"})],-1),t("p",null,"如果没有开启这个功能，那么虚拟机启动后将会一直黑屏，直到显卡被驱动。因此我们建议使用这个选项。",-1)]))}const k=r(m,[["render",f]]);export{G as __pageData,k as default};
