import{_ as t,c as l,o,ah as a,j as i,a as s}from"./chunks/framework.HzbgFGQH.js";const n="/assets/install1.ktuGM79e.png",r="/assets/install2.DivI1N3x.png",d="/assets/install3.CR0o75Q4.png",F=JSON.parse('{"title":"下载ISO文件","description":"","frontmatter":{},"headers":[],"relativePath":"install.md","filePath":"install.md"}'),p={name:"install.md"},h=n+"#pic_center",c=r+"#pic_center",k=d+"#pic_center";function u(g,e,b,_,m,f){return o(),l("div",null,e[0]||(e[0]=[a(`<p>安装帮助 #以ISO方式的安装 ISO支持的机型。</p><table tabindex="0"><thead><tr><th>架构</th><th>机型</th></tr></thead><tbody><tr><td>x86_64</td><td>通用</td></tr><tr><td>aarch64</td><td>支持UEFI的开发板或者服务器,如鲲鹏920,飞腾S2500,Apmere</td></tr><tr><td>loongarch64</td><td>3A5000,3C5000,3A6000,3C6000,3D6000</td></tr></tbody></table><div class="danger custom-block"><p class="custom-block-title custom-block-title-default">DANGER</p><p>龙芯5000用户请使用新世界BIOS</p></div><h1 id="下载iso文件" tabindex="-1">下载ISO文件 <a class="header-anchor" href="#下载iso文件" aria-label="Permalink to “下载ISO文件”">​</a></h1><p>下载地址为：<a href="https://download.lierfang.com/isos/" target="_blank" rel="noreferrer">https://download.lierfang.com/isos/</a></p><h1 id="刻录iso" tabindex="-1">刻录iso <a class="header-anchor" href="#刻录iso" aria-label="Permalink to “刻录iso”">​</a></h1><p>当然您也可以使用IPMI进行远程安装。</p><blockquote><p><strong>[warning] 注意</strong></p><p>建议使用好点的U盘。</p></blockquote><h2 id="windows用户" tabindex="-1">Windows用户 <a class="header-anchor" href="#windows用户" aria-label="Permalink to “Windows用户”">​</a></h2><p>请下载<a href="https://github.com/pbatard/rufus/releases/download/v4.6/rufus-4.6.exe" target="_blank" rel="noreferrer">rufus</a>作为写盘工具，并且以dd方式进行写入。</p><blockquote><p><strong>[warning] 注意</strong></p><p>请勿使用ventoy进行启动!</p></blockquote><h2 id="linux用户" tabindex="-1">Linux用户 <a class="header-anchor" href="#linux用户" aria-label="Permalink to “Linux用户”">​</a></h2><p>使用命令进行写入</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> if=/path/to/pxvirt.iso</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of=/dev/sdX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bs=1M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status=progress</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sync</span></span></code></pre></div><p>请将<code>/path/to/pxvirt.iso</code>替换成iso路径,<code>/dev/sdX</code>换成磁盘介质。</p><h2 id="macos用户" tabindex="-1">MacOS用户 <a class="header-anchor" href="#macos用户" aria-label="Permalink to “MacOS用户”">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看您的磁盘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diskutil</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果磁盘在挂载状态，请记住卸载磁盘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diskutil</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/diskXsX</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 写入磁盘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> if=/path/to/pxvirt.iso</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of=/dev/diskXsX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bs=1M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status=progress</span></span></code></pre></div><p>请将<code>/path/to/pxvirt.iso</code>替换成iso路径,<code>/dev/diskXsX</code>换成磁盘介质。</p><h1 id="启动安装程序" tabindex="-1">启动安装程序 <a class="header-anchor" href="#启动安装程序" aria-label="Permalink to “启动安装程序”">​</a></h1><blockquote><p>Pxvirt 当前不支持安全启动，请务必确保bios内关闭了安全启动！</p></blockquote><p>请将U盘插入到服务器或者PC，如果PC请插到主板侧。</p><p>开机的时候，选择U盘启动，这时您会进入我们的安装页面</p>`,22),i("p",null,[i("img",{src:h,alt:"alt text",loading:"lazy"})],-1),a('<p>这里我们列出所有的菜单说明</p><ul><li><p>Install Pxvirt (Automated) <code>启动无人值守安装，需要配置无人值守文件</code></p></li><li><p>Install Pxvirt (Graphical) <code>使用图形界面安装，需要机器有GPU卡，且有兼容驱动</code></p></li><li><p>Install Pxvirt (Terminal UI) <code>使用文本界面安装，GPU兼容最好，但是安装时是文本界面</code></p></li><li><p>Install Pxvirt (Terminal UI, Serial Console) <code>使用串口，进入文本界面安装，利用串口进行安装，适合机器没有显卡的设备</code></p></li><li><p>Advanced Options <code>高级选项</code></p><ul><li>Install Pxvirt (Graphical, Debug Mode) <code>进入图形页面debug模式</code></li><li>Install Pxvirt (Terminal UI, Debug Mode) <code>进入文本页面debug模式</code></li><li>Install Pxvirt (Serial Console Debug Mode) <code>使用串口,进行debug模式</code></li><li>Install Pxvirt (Automated) <code>启动无人值守安装</code></li></ul></li><li><p>Rescue Boot <code>启动修复，如果pxvirt的grub损坏，可以利用这个启动</code></p></li></ul><h2 id="如果启动不到这个页面-排查方法" tabindex="-1">如果启动不到这个页面，排查方法 <a class="header-anchor" href="#如果启动不到这个页面-排查方法" aria-label="Permalink to “如果启动不到这个页面，排查方法”">​</a></h2><p>这个是Grub的页面，不涉及linux的内核，因此和ISO刻盘有关系。</p><ol><li>检查是否开启了安全启动,需要关闭.</li><li>是否使用其他架构的iso.</li><li>是否U盘启动成功.</li><li>检查bios是否是最新.</li></ol><p>如果您的机器带UEFI 启动管理器，可以尝试手动添加启动。 PXVIRT的启动路径(不区分大小写)为</p><table tabindex="0"><thead><tr><th>架构</th><th>路径</th></tr></thead><tbody><tr><td>x86_64</td><td>/efi/boot/bootx64.efi</td></tr><tr><td>aarch64</td><td>/efi/boot/bootaa64.efi</td></tr><tr><td>loongarch64</td><td>/efi/boot/bootloongarch64.efi</td></tr></tbody></table><h1 id="安装问题debug" tabindex="-1">安装问题debug <a class="header-anchor" href="#安装问题debug" aria-label="Permalink to “安装问题debug”">​</a></h1><p>针对ARM架构，GRUB加载安装内核时，需要时间，页面可能会卡主</p><h2 id="efi-rng-protocol-unavailable" tabindex="-1"><em><strong>EFI_RNG_PROTOCOL unavailable</strong></em> <a class="header-anchor" href="#efi-rng-protocol-unavailable" aria-label="Permalink to “EFI_RNG_PROTOCOL unavailable”">​</a></h2><p>请不要惊慌，这只是内核的提示，并不是错误，请耐心等待。</p><p>如果等了10多分钟，还未进入，请使用以下方法进行debug</p><ol><li>重启服务器，进入iso安装页面</li><li>选择<code>Install Pxvirt (Graphical, Debug Mode)</code>选项</li></ol><p>如果debug页面，无法进去。那我们也无法知道发生了什么？大概率是内核panic了。</p><p>此时如果您机器具有串口，您可以选择</p><ol><li>重启服务器，进入iso安装页面</li><li>选择<code>Install Pxvirt (Serial Console Debug Mode)</code>选项</li><li>按e</li><li>在<code>linux</code>行的后面，加上<code>earlycon=ttyS0</code>如下图</li></ol>',16),i("p",null,[i("img",{src:c,alt:"alt text",loading:"lazy"}),s(" 5. "),i("code",null,"ctrl + x"),s("进行启动。之后您可以通过串口或者sol控制台查看到debug信息。")],-1),a('<h2 id="no-device-with-valid-iso-found-please-check-your-installation-medium" tabindex="-1"><em><strong>no device with valid ISO found, please check your installation medium</strong></em> <a class="header-anchor" href="#no-device-with-valid-iso-found-please-check-your-installation-medium" aria-label="Permalink to “no device with valid ISO found, please check your installation medium”">​</a></h2><p>请务必用以上的刻盘方式刻录，请勿使用第三方iso。出现这个问题，您可以</p><ol><li>重启服务器，进入iso安装页面</li><li>选择<code>Install Pxvirt (Graphical, Debug Mode)</code>选项</li><li>使用blkid查看当前是否有u盘</li></ol><p>一般分区iso磁盘名称为pxvirt。</p><h2 id="no-network-interface-found" tabindex="-1"><em><strong>No Network Interface found!</strong></em> <a class="header-anchor" href="#no-network-interface-found" aria-label="Permalink to “No Network Interface found!”">​</a></h2><p>这个问题是没有识别到网卡，如果您机器具有网卡，那大概率是没有网卡驱动，您可以</p><ol><li>重启服务器，进入iso安装页面</li><li>选择<code>Install Pxvirt (Graphical, Debug Mode)</code>选项</li><li>按<code>ctrl + d</code>继续启动</li><li>输入<code>lspci</code>和<code>ip a</code>查看当前的网卡。可以把结果反馈给我们。</li></ol><p>如果您需要强制安装，您可以在第四步之后，执行一下命令，生成一个虚拟机的网卡 5. <code>ip tuntap add dev tap0 mode tap</code></p><p>这样就可以骗过安装程序，认为当前系统有网卡，如下图</p>',9),i("p",null,[i("img",{src:k,alt:"alt text",loading:"lazy"})],-1),a('<p>但您必须清楚，这只是能够安装，重新启动之后，仍会没有网络。</p><p>如果您安装好之后，添加了网卡，您可以参考”修改网络“，进行修改。</p><h2 id="重启之后-无法联网" tabindex="-1"><em><strong>重启之后，无法联网</strong></em> <a class="header-anchor" href="#重启之后-无法联网" aria-label="Permalink to “重启之后，无法联网”">​</a></h2><p>大概率是因为网口服务器，在安装时，网卡选错了，导致无法联网，只需要把网线换个网卡插就行。您也可以参考”修改网络“，进行修改。</p><h2 id="软件包损坏-input-output-error-squashfs-error" tabindex="-1"><em><strong>软件包损坏 &amp;&amp; Input/output error &amp;&amp; SQUASHFS error</strong></em> <a class="header-anchor" href="#软件包损坏-input-output-error-squashfs-error" aria-label="Permalink to “软件包损坏 &amp;&amp; Input/output error &amp;&amp; SQUASHFS error”">​</a></h2><p>由于Pxvirt安装盘是挂载的U盘文件系统，如果U盘故障，出现闪断，可能会导致文件系统崩溃，请检测U盘或者ipmi的网络</p><h2 id="xorg-图形页面进不去或者显示白屏、异常" tabindex="-1"><em><strong>Xorg 图形页面进不去或者显示白屏、异常</strong></em> <a class="header-anchor" href="#xorg-图形页面进不去或者显示白屏、异常" aria-label="Permalink to “Xorg 图形页面进不去或者显示白屏、异常”">​</a></h2><ol><li>重启服务器，进入iso安装页面</li><li>选择<code>Install Pxvirt (Terminal UI) </code>选项，使用文本模式安装</li></ol>',8)]))}const v=t(p,[["render",u]]);export{F as __pageData,v as default};
